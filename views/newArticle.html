{% extends "layout.html" %}

{% block title %}
{{ title }}
{% endblock %}

{% block javascript %}

<script type="text/javascript" src="/static/xheditor-1.2.2/xheditor-1.2.2.min.js"></script>
<script type="text/javascript" src="/static/xheditor-1.2.2/xheditor_lang/zh-cn.js"></script>
{% endblock %}

{% block stylesheets %}
{% endblock %}

{% block main %}
<div class="contentBody">
    <h1>添加随笔</h1>
    <form>
        <div>
            <h2>随笔标题</h2>
            <input type="text" id="articleTitle">
        </div>
        <div>
            <h2>内容</h2>
            <textarea name="content" id="elm1"></textarea>
        </div>
    </form>
    <div>
        <button type="submit" id="submit">发布</button>
        <button type="submit" id="cancel">取消</button>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script type="text/javascript">
    $('#elm1').xheditor({
        tools:'full',
        skin:'default',
        showBlocktag:true,
        internalScript:false,
        internalStyle:false,
        width:1000,
        height:400,
        fullscreen:false,
        sourceMode:true,
        forcePtag:true,
        upImgUrl:"upload.php",
        upImgExt:"jpg,jpeg,gif,png"
    });
    $("#submit").click(function () {
        var titleStr = $("#articleTitle").val();
        var contentStr = $("#elm1").val();
        console.log(titleStr);
        console.log(contentStr);
        var myDate = new Date();
        var dateStr = myDate.toLocaleDateString();
        console.log(dateStr);
    });
    $("#cancel").click(function () {
        alert("确认取消吗？");
    });
</script>
{% endblock %}